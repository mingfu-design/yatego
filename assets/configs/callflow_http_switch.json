{
    "components":[
        {
            "name": "start",
            "class": "player",
            "config": {
                "playlist": "/vagrant/assets/audio/{call.called}/welcome.sln",
                "transfer": "menu"
            }
        },        
        {
            "name": "menu",
            "class": "menu",
            "config": {
                "keys": "1,2",
                "transfer": "slot,slot",
                "transfer_default":"invalid"
            } 
        },
        {
            "name": "invalid",
            "class": "player",
            "config": {
                "playlist": "/vagrant/assets/audio/{call.called}/invalid.sln",
                "transfer": "menu"
            }
        },        
        {
            "name": "slot",
            "class": "player",
            "config": {
                "playlist": "/vagrant/assets/audio/{call.called}/slot.sln",
                "transfer": "http"
            }
        },
        {
            "name": "http",
            "class": "http",
            "config": {
                "url": "http://localhost:9000/winner",                
                "request_namespaces":"menu.key",
                "request_fields":"pot",
                "transfer":"switch"
            }
        },
        {
            "name": "switch",
            "class": "switch",
            "config": {
                "keys": "http.result,http.result",
                "values": "winner,looser",
                "transfer": "winner,looser",
                "transfer_default":"goodbye"
            } 
        },        
        {
            "name": "winner",
            "class": "player",
            "config": {
                "playlist": "/vagrant/assets/audio/{call.called}/{http.result}.sln",
                "transfer": "goodbye"
            }
        },         
        {
            "name": "looser",
            "class": "player",
            "config": {
                "playlist": "/vagrant/assets/audio/{call.called}/{http.result}.sln",
                "transfer": "loop"
            }
        },
        {
            "name": "loop",
            "class": "loop",
            "config": {
                "max":"3",
                "transfer": "new_round",
                "transfer_default":"goodbye",
                "break_on_equal":"true"
            } 
        },
        {
            "name": "new_round",
            "class": "player",
            "config": {
                "playlist": "/vagrant/assets/audio/{call.called}/round2.sln,/vagrant/assets/audio/{call.called}/round3.sln",
                "transfer": "menu",
                "play_one_per_entry": "true"
            }
        },                        
        {
            "name": "goodbye",
            "class": "player",
            "config": {
                "playlist": "/vagrant/assets/audio/{call.called}/goodbye.sln"
            }
        }                                       
    ]
}